{{!-- Disqus comments --}}
<div class="comments animated fadeIn" id="comments">
  <div class="comments__panel container" id="disqus_thread">
  </div>
</div>
<script>
  var callback = function(){
    var comments = document.getElementById('comments');

    var scroll = function(e) {
      if(isInViewport(comments) == true) {
        /**
        *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
        *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
        */
        var disqus_config = function () {
          this.page.url = '{{url absolute="true"}}';  // Replace PAGE_URL with your page's canonical URL variable
          this.page.identifier = '{{comment_id}}'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };

        (function () {  // DON'T EDIT BELOW THIS LINE
          var d = document, s = d.createElement('script');
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
        
        document.removeEventListener('scroll', scroll, true);
      }
    };
    document.addEventListener('scroll', scroll, true);  
  };

  if (
      document.readyState === "complete" ||
      (document.readyState !== "loading" && !document.documentElement.doScroll)
  ) {
    callback();
  } else {
    document.addEventListener("DOMContentLoaded", callback);
  }
</script>
<noscript>
  Please enable JavaScript to view the
  <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
{{!-- End of Disqus comments --}}